webpackJsonp([8],{"3evX":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("pFYg"),i=s.n(a),l=s("woOf"),o=s.n(l),n=s("ZMG9"),r=s("KRY9"),d=s("jiRv"),c=s("TagB"),u={props:["title"],data:function(){return{dialog:!1,disabled:"false",headers:[{text:"菜单序号"},{text:"菜单ID",sortable:!1,size:"medium"},{text:"菜单名称",sortable:!1},{text:"菜单描述",sortable:!1},{text:"父级菜单",sortable:!1},{text:"菜单等级",sortable:!1},{text:"状态",sortable:!1},{text:"菜单标识",sortable:!1},{text:"菜单URL",sortable:!1},{text:"Action",sortable:!1}],parent:[],desserts:[],menuInfo:[],sourceData:[],keySet:[{key:"true",dataIndex:"menuSeqNo"}],editedIndex:-1,title:"",editedItem:{menuSeqNo:"",menuId:"",menuName:"",menuTitle:"",menuParentId:"",menuLevel:"",menuStatus:"",menuIcon:"",menuComponent:""},defaultItem:{menuSeqNo:"",menuId:"",menuName:"",menuTitle:"",menuParentId:"",menuLevel:"",menuStatus:"",menuIcon:"",menuComponent:""},backValue:{}}},computed:{formTitle:function(){return-1===this.editedIndex?"新增菜单":"修改菜单"}},watch:{dialog:function(e){e||this.close()}},mounted:function(){this.initialize(),this.initMenuSeqNo()},methods:{initialize:function(){var e=this,t=sessionStorage.getItem("userId"),s=sessionStorage.getItem("userLevel");Object(n.n)(t).then(function(t){e.desserts=t.data.data.columnInfo;for(var a=0;a<e.desserts.length;a++)if(e.desserts[a].menuLevel===s){var i={};i.key=e.desserts[a].menuId,i.value=e.desserts[a].menuName,e.parent.push(i)}e.sourceData=e.copy(e.desserts,e.sourceData)})},initMenuSeqNo:function(){var e=this;Object(n.o)("OM_MENU").then(function(t){if(e.menuInfo=t.data.data.columnInfo,e.menuInfo.length>0){var s=0;s=parseInt(e.menuInfo[0].menuSeqNo);for(var a=1;a<e.menuInfo.length;a++)parseInt(e.menuInfo[a].menuSeqNo)>s&&(s=parseInt(e.menuInfo[a].menuSeqNo));e.editedItem.menuSeqNo=s+1+""}})},addClick:function(){this.disabled="false"},editItem:function(e){this.editedIndex=this.desserts.indexOf(e),this.editedItem=o()({},e),this.dialog=!0,this.disabled="true"},deleteItem:function(e){var t=this.desserts.indexOf(e);confirm("Are you sure you want to delete this item?")&&this.desserts.splice(t,1)},close:function(){var e=this;this.dialog=!1,setTimeout(function(){e.editedItem=o()({},e.defaultItem),e.editedIndex=-1},300)},save:function(){this.editedIndex>-1?o()(this.desserts[this.editedIndex],this.editedItem):this.desserts.push(this.editedItem),this.backValue.data=Object(d.a)(this.keySet,this.desserts,this.sourceData),this.backValue.userName=sessionStorage.getItem("userId"),this.backValue.tableName="OM_MENU",this.backValue.keySet="MENU_SEQ_NO",Object(n.s)(this.backValue).then(function(e){200===e.status&&c.a.success("提交成功！")}),this.close()},copy:function(e,t){var s=t||{};for(var a in e)"object"===i()(e[a])&&null!==e[a]?(s[a]=e[a].constructor===Array?[]:{},this.copy(e[a],s[a])):s[a]=e[a];return s},saveClick:function(){this.backValue.data=Object(d.a)(this.keySet,this.desserts,this.sourceData),this.backValue.userName=sessionStorage.getItem("userId"),this.backValue.tableName="OM_MENU",this.backValue.keySet="MENU_SEQ_NO",Object(n.s)(this.backValue).then(function(e){200===e.status&&c.a.success("提交成功！")})}}},m={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"elevation-4"},[s("v-toolbar",{attrs:{color:"primary lighten-2",dark:""}},[s("v-toolbar-title",[e._v("菜单管理")]),e._v(" "),s("v-spacer"),e._v(" "),s("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[s("v-btn",{attrs:{slot:"activator",flat:"",color:"primary lighten-2"},on:{click:e.addClick},slot:"activator"},[s("td",{staticStyle:{color:"white","margin-left":"100px"}},[e._v("添加")])]),e._v(" "),s("v-card",[s("v-card-title",[s("span",{staticStyle:{color:"#00b0ff","font-size":"x-large","margin-left":"5%"}},[e._v(e._s(e.formTitle))])]),e._v(" "),s("v-card-text",{staticStyle:{"margin-top":"-10%"}},[s("v-container",{attrs:{"grid-list-md":""}},[s("v-layout",{attrs:{wrap:""}},["true"==e.disabled?s("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[s("v-text-field",{attrs:{label:"菜单序号",disabled:""},model:{value:e.editedItem.menuSeqNo,callback:function(t){e.$set(e.editedItem,"menuSeqNo",t)},expression:"editedItem.menuSeqNo"}})],1):e._e(),e._v(" "),"false"==e.disabled?s("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[s("v-text-field",{attrs:{label:"菜单序号",disabled:""},model:{value:e.editedItem.menuSeqNo,callback:function(t){e.$set(e.editedItem,"menuSeqNo",t)},expression:"editedItem.menuSeqNo"}})],1):e._e(),e._v(" "),s("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[s("v-text-field",{attrs:{label:"菜单ID"},model:{value:e.editedItem.menuId,callback:function(t){e.$set(e.editedItem,"menuId",t)},expression:"editedItem.menuId"}})],1),e._v(" "),s("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[s("v-text-field",{attrs:{label:"菜单名称"},model:{value:e.editedItem.menuName,callback:function(t){e.$set(e.editedItem,"menuName",t)},expression:"editedItem.menuName"}})],1),e._v(" "),s("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[s("v-select",{attrs:{label:"父级菜单",items:e.parent,"item-text":"value","item-value":"key"},model:{value:e.editedItem.menuParentId,callback:function(t){e.$set(e.editedItem,"menuParentId",t)},expression:"editedItem.menuParentId"}})],1),e._v(" "),s("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[s("v-text-field",{attrs:{label:"菜单等级"},model:{value:e.editedItem.menuLevel,callback:function(t){e.$set(e.editedItem,"menuLevel",t)},expression:"editedItem.menuLevel"}})],1),e._v(" "),s("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[s("v-text-field",{attrs:{label:"状态"},model:{value:e.editedItem.menuStatus,callback:function(t){e.$set(e.editedItem,"menuStatus",t)},expression:"editedItem.menuStatus"}})],1),e._v(" "),s("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[s("v-text-field",{attrs:{label:"菜单标识"},model:{value:e.editedItem.menuIcon,callback:function(t){e.$set(e.editedItem,"menuIcon",t)},expression:"editedItem.menuIcon"}})],1),e._v(" "),s("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[s("v-text-field",{attrs:{label:"菜单URL"},model:{value:e.editedItem.menuComponent,callback:function(t){e.$set(e.editedItem,"menuComponent",t)},expression:"editedItem.menuComponent"}})],1)],1)],1)],1),e._v(" "),s("v-card-actions",{staticStyle:{"margin-top":"-7%"}},[s("v-btn",{staticClass:"bthStyle",staticStyle:{"margin-left":"6%"},attrs:{color:"info"},on:{click:e.close}},[e._v("取消")]),e._v(" "),s("v-spacer"),e._v(" "),s("v-btn",{staticClass:"bthStyle",staticStyle:{"margin-right":"6%"},attrs:{color:"info"},on:{click:e.save}},[e._v("保存")])],1)],1)],1)],1),e._v(" "),s("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.desserts},scopedSlots:e._u([{key:"items",fn:function(t){return[s("td",[e._v(e._s(t.item.menuSeqNo))]),e._v(" "),s("td",[e._v(e._s(t.item.menuId))]),e._v(" "),s("td",[e._v(e._s(t.item.menuName))]),e._v(" "),s("td",[e._v(e._s(t.item.menuTitle))]),e._v(" "),s("td",[e._v(e._s(t.item.menuParentId))]),e._v(" "),s("td",[e._v(e._s(t.item.menuLevel))]),e._v(" "),s("td",[e._v(e._s(t.item.menuStatus))]),e._v(" "),s("td",[e._v(e._s(t.item.menuIcon))]),e._v(" "),s("td",[e._v(e._s(t.item.menuComponent))]),e._v(" "),s("td",{staticStyle:{width:"50px"}},[s("v-tooltip",{staticStyle:{"margin-left":"-40px"},attrs:{bottom:"",color:"blue"}},[s("v-btn",{attrs:{slot:"activator",flat:"",icon:"edit"},slot:"activator"},[s("v-icon",{staticClass:"mr-2",staticStyle:{color:"#0d47a1"},attrs:{small:""},on:{click:function(s){e.editItem(t.item)}}},[e._v("edit")])],1),e._v(" "),s("span",[e._v("修改")])],1),e._v(" "),s("v-tooltip",{staticStyle:{"margin-left":"-33px"},attrs:{bottom:"",color:"red"}},[s("v-btn",{attrs:{slot:"activator",flat:"",icon:"delete"},slot:"activator"},[s("v-icon",{staticStyle:{color:"red"},attrs:{small:""},on:{click:function(s){e.deleteItem(t.item)}}},[e._v("delete")])],1),e._v(" "),s("span",[e._v("删除")])],1)],1)]}}])})],1)},staticRenderFns:[]};var v={props:["title"],data:function(){return{disabled:"false",dialog:!1,headers:[{text:"角色ID",sortable:!1},{text:"角色名称",sortable:!1},{text:"角色描述",sortable:!1},{text:"角色适用等级",sortable:!1},{text:"Action",sortable:!1}],desserts:[],sourceData:[],keySet:[{key:"true",dataIndex:"roleId"}],editedIndex:-1,title:"",editedItem:{roleId:"",roleName:"",roleDesc:"",roleLevel:""},defaultItem:{roleId:"",roleName:"",roleDesc:"",roleLevel:""},backValue:{}}},computed:{formTitle:function(){return-1===this.editedIndex?"新增角色":"修改角色"}},watch:{dialog:function(e){e||this.close()}},created:function(){this.initialize()},methods:{initialize:function(){var e=this,t=sessionStorage.getItem("userId");sessionStorage.getItem("userLevel");Object(n.n)(t).then(function(t){e.desserts=t.data.data.roleInfo,e.sourceData=e.copy(e.desserts,e.sourceData)})},editItem:function(e){this.editedIndex=this.desserts.indexOf(e),this.editedItem=o()({},e),this.dialog=!0,this.disabled="true"},addClick:function(){this.disabled="false"},deleteItem:function(e){var t=this.desserts.indexOf(e);confirm("Are you sure you want to delete this item?")&&this.desserts.splice(t,1)},close:function(){var e=this;this.dialog=!1,setTimeout(function(){e.editedItem=o()({},e.defaultItem),e.editedIndex=-1},300)},save:function(){this.editedIndex>-1?o()(this.desserts[this.editedIndex],this.editedItem):this.desserts.push(this.editedItem),this.backValue.data=Object(d.a)(this.keySet,this.desserts,this.sourceData),this.backValue.userName=sessionStorage.getItem("userId"),this.backValue.tableName="OM_ROLE",this.backValue.keySet="ROLE_ID",Object(n.s)(this.backValue).then(function(e){200===e.status&&c.a.success("提交成功！")}),this.close()},copy:function(e,t){var s=t||{};for(var a in e)"object"===i()(e[a])&&null!==e[a]?(s[a]=e[a].constructor===Array?[]:{},this.copy(e[a],s[a])):s[a]=e[a];return s},saveClick:function(){this.backValue.data=Object(d.a)(this.keySet,this.desserts,this.sourceData),this.backValue.userName=sessionStorage.getItem("userId"),this.backValue.tableName="OM_ROLE",this.backValue.keySet="ROLE_ID",Object(n.s)(this.backValue).then(function(e){200===e.status&&c.a.success("提交成功！")})}}},f={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"elevation-4"},[s("v-toolbar",{attrs:{color:"primary lighten-2",dark:""}},[s("v-toolbar-title",[e._v("角色管理")]),e._v(" "),s("v-spacer"),e._v(" "),s("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[s("v-btn",{attrs:{slot:"activator",flat:"",color:"primary lighten-2"},on:{click:e.addClick},slot:"activator"},[s("td",{staticStyle:{color:"white","margin-left":"100px"}},[e._v("添加")])]),e._v(" "),s("v-card",[s("v-card-title",[s("span",{staticStyle:{color:"#00b0ff","font-size":"x-large","margin-left":"5%"}},[e._v(e._s(e.formTitle))])]),e._v(" "),s("v-card-text",{staticStyle:{"margin-top":"-10%"}},[s("v-container",{attrs:{"grid-list-md":""}},[s("v-layout",{attrs:{wrap:""}},["false"==e.disabled?s("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[s("v-text-field",{attrs:{label:"角色ID"},model:{value:e.editedItem.roleId,callback:function(t){e.$set(e.editedItem,"roleId",t)},expression:"editedItem.roleId"}})],1):e._e(),e._v(" "),"true"==e.disabled?s("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[s("v-text-field",{attrs:{label:"角色ID",disabled:""},model:{value:e.editedItem.roleId,callback:function(t){e.$set(e.editedItem,"roleId",t)},expression:"editedItem.roleId"}})],1):e._e(),e._v(" "),s("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[s("v-text-field",{attrs:{label:"角色名称"},model:{value:e.editedItem.roleName,callback:function(t){e.$set(e.editedItem,"roleName",t)},expression:"editedItem.roleName"}})],1),e._v(" "),s("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[s("v-text-field",{attrs:{label:"角色等级"},model:{value:e.editedItem.roleLevel,callback:function(t){e.$set(e.editedItem,"roleLevel",t)},expression:"editedItem.roleLevel"}})],1)],1)],1)],1),e._v(" "),s("v-card-actions",{staticStyle:{"margin-top":"-7%"}},[s("v-btn",{staticClass:"bthStyle",staticStyle:{"margin-left":"6%"},attrs:{color:"info"},on:{click:e.close}},[e._v("取消")]),e._v(" "),s("v-spacer"),e._v(" "),s("v-btn",{staticClass:"bthStyle",staticStyle:{"margin-right":"6%"},attrs:{color:"info"},on:{click:e.save}},[e._v("保存")])],1)],1)],1)],1),e._v(" "),s("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.desserts},scopedSlots:e._u([{key:"items",fn:function(t){return[s("td",[e._v(e._s(t.item.roleId))]),e._v(" "),s("td",[e._v(e._s(t.item.roleName))]),e._v(" "),s("td",[e._v(e._s(t.item.roleDesc))]),e._v(" "),s("td",[e._v(e._s(t.item.roleLevel))]),e._v(" "),s("td",[s("v-tooltip",{staticStyle:{"margin-left":"-20px"},attrs:{bottom:"",color:"blue"}},[s("v-btn",{attrs:{slot:"activator",flat:"",icon:"edit"},slot:"activator"},[s("v-icon",{staticClass:"mr-2",staticStyle:{color:"#0d47a1"},attrs:{small:""},on:{click:function(s){e.editItem(t.item)}}},[e._v("edit")])],1),e._v(" "),s("span",[e._v("修改")])],1),e._v(" "),s("v-tooltip",{staticStyle:{"margin-left":"-20px"},attrs:{bottom:"",color:"red"}},[s("v-btn",{attrs:{slot:"activator",flat:"",icon:"delete"},slot:"activator"},[s("v-icon",{staticStyle:{color:"red"},attrs:{small:""},on:{click:function(s){e.deleteItem(t.item)}}},[e._v("delete")])],1),e._v(" "),s("span",[e._v("删除")])],1)],1)]}}])})],1)},staticRenderFns:[]};var I={props:["title"],data:function(){return{dialog:!1,disabled:"false",headers:[{text:"用户ID",sortable:!1},{text:"用户名称",sortable:!1},{text:"父级用户ID",sortable:!1},{text:"用户等级",sortable:!1},{text:"所属部门",sortable:!1},{text:"所属法人",sortable:!1},{text:"Action",sortable:!1}],perent:[{key:"",value:""}],desserts:[],sourceData:[],keySet:[{key:"true",dataIndex:"userId"}],editedIndex:-1,title:"",editedItem:{userId:"",userName:"",parentUserId:"",userLevel:"",branch:"",company:"",password:""},defaultItem:{userId:"",userName:"",parentUserId:"",userLevel:"",branch:"",company:"",password:""},backValue:{}}},computed:{formTitle:function(){return-1===this.editedIndex?"新增用户":"修改用户"}},watch:{dialog:function(e){e||this.close()}},created:function(){this.initialize(),this.initParentRef()},methods:{initialize:function(){var e=this,t=sessionStorage.getItem("userId");sessionStorage.getItem("userLevel");e.editedItem.parentUserId=t,Object(n.n)(t).then(function(t){e.desserts=t.data.data.userInfo,e.sourceData=e.copy(e.desserts,e.sourceData)})},addClick:function(){this.disabled="false"},initParentRef:function(){var e={},t=this;e.tableName="OM_USER",e.columnCode="USER_ID",e.columnDesc="USER_NAME",Object(r.a)(e,function(e){t.perent=e})},editItem:function(e){this.editedIndex=this.desserts.indexOf(e),this.editedItem=o()({},e),this.dialog=!0,this.disabled="true"},deleteItem:function(e){var t=this.desserts.indexOf(e);confirm("Are you sure you want to delete this item?")&&this.desserts.splice(t,1)},close:function(){var e=this;this.dialog=!1,setTimeout(function(){e.editedItem=o()({},e.defaultItem),e.editedIndex=-1},300)},save:function(){this.editedIndex>-1?o()(this.desserts[this.editedIndex],this.editedItem):this.desserts.push(this.editedItem),this.backValue.data=Object(d.a)(this.keySet,this.desserts,this.sourceData),this.backValue.userName=sessionStorage.getItem("userId"),this.backValue.tableName="OM_USER",this.backValue.keySet="USER_ID",Object(n.s)(this.backValue).then(function(e){200===e.status&&c.a.success("提交成功！")}),this.close()},copy:function(e,t){var s=t||{};for(var a in e)"object"===i()(e[a])&&null!==e[a]?(s[a]=e[a].constructor===Array?[]:{},this.copy(e[a],s[a])):s[a]=e[a];return s},saveClick:function(){this.backValue.data=Object(d.a)(this.keySet,this.desserts,this.sourceData),this.backValue.userName=sessionStorage.getItem("userId"),this.backValue.tableName="OM_USER",this.backValue.keySet="USER_ID",Object(n.s)(this.backValue).then(function(e){200===e.status&&c.a.success("提交成功！")})}}},h={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"elevation-4"},[s("v-toolbar",{attrs:{color:"primary lighten-2",dark:""}},[s("v-toolbar-title",[e._v("用户管理")]),e._v(" "),s("v-spacer"),e._v(" "),s("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[s("v-btn",{attrs:{slot:"activator",flat:"",color:"primary lighten-2"},on:{click:e.addClick},slot:"activator"},[s("td",{staticStyle:{color:"white","margin-left":"100px"}},[e._v("添加")])]),e._v(" "),s("v-card",[s("v-card-title",[s("span",{staticStyle:{color:"#00b0ff","font-size":"x-large","margin-left":"5%"}},[e._v(e._s(e.formTitle))])]),e._v(" "),s("v-card-text",{staticStyle:{"margin-top":"-10%"}},[s("v-container",{attrs:{"grid-list-md":""}},[s("v-layout",{attrs:{wrap:""}},["false"==e.disabled?s("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[s("v-text-field",{attrs:{label:"用户ID"},model:{value:e.editedItem.userId,callback:function(t){e.$set(e.editedItem,"userId",t)},expression:"editedItem.userId"}})],1):e._e(),e._v(" "),"true"==e.disabled?s("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[s("v-text-field",{attrs:{label:"用户ID",disabled:""},model:{value:e.editedItem.userId,callback:function(t){e.$set(e.editedItem,"userId",t)},expression:"editedItem.userId"}})],1):e._e(),e._v(" "),s("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[s("v-text-field",{attrs:{label:"用户名称"},model:{value:e.editedItem.userName,callback:function(t){e.$set(e.editedItem,"userName",t)},expression:"editedItem.userName"}})],1),e._v(" "),s("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[s("v-text-field",{attrs:{label:"父级用户",disabled:""},model:{value:e.editedItem.parentUserId,callback:function(t){e.$set(e.editedItem,"parentUserId",t)},expression:"editedItem.parentUserId"}})],1),e._v(" "),s("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[s("v-text-field",{attrs:{label:"用户级别"},model:{value:e.editedItem.userLevel,callback:function(t){e.$set(e.editedItem,"userLevel",t)},expression:"editedItem.userLevel"}})],1),e._v(" "),s("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[s("v-text-field",{attrs:{label:"所属部门"},model:{value:e.editedItem.branch,callback:function(t){e.$set(e.editedItem,"branch",t)},expression:"editedItem.branch"}})],1),e._v(" "),s("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[s("v-text-field",{attrs:{label:"所属法人"},model:{value:e.editedItem.company,callback:function(t){e.$set(e.editedItem,"company",t)},expression:"editedItem.company"}})],1)],1)],1)],1),e._v(" "),s("v-card-actions",{staticStyle:{"margin-top":"-7%"}},[s("v-btn",{staticClass:"bthStyle",staticStyle:{"margin-left":"6%"},attrs:{color:"info"},on:{click:e.close}},[e._v("取消")]),e._v(" "),s("v-spacer"),e._v(" "),s("v-btn",{staticClass:"bthStyle",staticStyle:{"margin-right":"6%"},attrs:{color:"info"},on:{click:e.save}},[e._v("保存")])],1)],1)],1)],1),e._v(" "),s("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.desserts},scopedSlots:e._u([{key:"items",fn:function(t){return[s("td",[e._v(e._s(t.item.userId))]),e._v(" "),s("td",[e._v(e._s(t.item.userName))]),e._v(" "),s("td",[e._v(e._s(t.item.parentUserId))]),e._v(" "),s("td",[e._v(e._s(t.item.userLevel))]),e._v(" "),s("td",[e._v(e._s(t.item.branch))]),e._v(" "),s("td",[e._v(e._s(t.item.company))]),e._v(" "),s("td",[s("v-tooltip",{staticStyle:{"margin-left":"-20px"},attrs:{bottom:"",color:"blue"}},[s("v-btn",{attrs:{slot:"activator",flat:"",icon:"edit"},slot:"activator"},[s("v-icon",{staticClass:"mr-2",staticStyle:{color:"#0d47a1"},attrs:{small:""},on:{click:function(s){e.editItem(t.item)}}},[e._v("edit")])],1),e._v(" "),s("span",[e._v("修改")])],1),e._v(" "),s("v-tooltip",{staticStyle:{"margin-left":"-20px"},attrs:{bottom:"",color:"red"}},[s("v-btn",{attrs:{slot:"activator",flat:"",icon:"delete"},slot:"activator"},[s("v-icon",{staticStyle:{color:"red"},attrs:{small:""},on:{click:function(s){e.deleteItem(t.item)}}},[e._v("delete")])],1),e._v(" "),s("span",[e._v("删除")])],1)],1)]}}])})],1)},staticRenderFns:[]};var b={props:["title"],data:function(){return{dialog:!1,headers:[{text:"角色ID"},{text:"菜单ID",sortable:!1,size:"medium"},{text:"Action",sortable:!1}],muneRef:[{key:"",value:""}],roleRef:[{key:"",value:""}],desserts:[],sourceData:[],keySet:[{key:"true",dataIndex:"menuId"},{key:"true",dataIndex:"roleId"}],editedIndex:-1,title:"",editedItem:{roleId:"",menuId:""},defaultItem:{roleId:"",menuId:""},backValue:{}}},computed:{formTitle:function(){return-1===this.editedIndex?"新增角色菜单关系":"修改角色菜单关系"}},watch:{dialog:function(e){e||this.close()}},created:function(){this.initialize(),this.initRf()},methods:{initialize:function(){var e=this,t=sessionStorage.getItem("userId");sessionStorage.getItem("userLevel");Object(n.n)(t).then(function(t){e.desserts=t.data.data.menuRoleInfo,e.sourceData=e.copy(e.desserts,e.sourceData)})},initRf:function(){var e={},t=this;e.tableName="OM_MENU",e.columnCode="MENU_ID",e.columnDesc="MENU_NAME",Object(r.a)(e,function(e){t.muneRef=e});var s={tableName:"OM_ROLE",columnCode:"ROLE_ID",columnDesc:"ROLE_NAME"};Object(r.a)(s,function(e){t.roleRef=e})},deleteItem:function(e){var t=this.desserts.indexOf(e);confirm("Are you sure you want to delete this item?")&&this.desserts.splice(t,1)},close:function(){var e=this;this.dialog=!1,setTimeout(function(){e.editedItem=o()({},e.defaultItem),e.editedIndex=-1},300)},save:function(){this.editedIndex>-1?o()(this.desserts[this.editedIndex],this.editedItem):this.desserts.push(this.editedItem),this.backValue.data=Object(d.a)(this.keySet,this.desserts,this.sourceData),this.backValue.userName=sessionStorage.getItem("userId"),this.backValue.tableName="OM_MENU_ROLE",this.backValue.keySet="ROLE_ID,MENU_ID",Object(n.s)(this.backValue).then(function(e){200===e.status&&c.a.success("提交成功！")}),this.close()},copy:function(e,t){var s=t||{};for(var a in e)"object"===i()(e[a])&&null!==e[a]?(s[a]=e[a].constructor===Array?[]:{},this.copy(e[a],s[a])):s[a]=e[a];return s},saveClick:function(){this.backValue.data=Object(d.a)(this.keySet,this.desserts,this.sourceData),this.backValue.userName=sessionStorage.getItem("userId"),this.backValue.tableName="OM_MENU_ROLE",this.backValue.keySet="ROLE_ID,MENU_ID",Object(n.s)(this.backValue).then(function(e){200===e.status&&c.a.success("提交成功！")})}}},_={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"elevation-4"},[s("v-toolbar",{attrs:{color:"primary lighten-2",dark:""}},[s("v-toolbar-title",[e._v("角色菜单授权")]),e._v(" "),s("v-spacer"),e._v(" "),s("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[s("v-btn",{attrs:{slot:"activator",flat:"",color:"primary lighten-2"},on:{click:e.addClick},slot:"activator"},[s("td",{staticStyle:{color:"white","margin-left":"100px"}},[e._v("添加")])]),e._v(" "),s("v-card",[s("v-card-title",[s("span",{staticStyle:{color:"#00b0ff","font-size":"x-large","margin-left":"5%"}},[e._v(e._s(e.formTitle))])]),e._v(" "),s("v-card-text",{staticStyle:{"margin-top":"-10%"}},[s("v-container",{attrs:{"grid-list-md":""}},[s("v-layout",{attrs:{wrap:""}},[s("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[s("v-select",{attrs:{label:"角色ID",items:e.roleRef,"item-text":"value","item-value":"key"},model:{value:e.editedItem.roleId,callback:function(t){e.$set(e.editedItem,"roleId",t)},expression:"editedItem.roleId"}})],1),e._v(" "),s("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[s("v-select",{attrs:{label:"菜单ID",items:e.muneRef,"item-text":"value","item-value":"key"},model:{value:e.editedItem.menuId,callback:function(t){e.$set(e.editedItem,"menuId",t)},expression:"editedItem.menuId"}})],1)],1)],1)],1),e._v(" "),s("v-card-actions",{staticStyle:{"margin-top":"-7%"}},[s("v-btn",{staticClass:"bthStyle",staticStyle:{"margin-left":"6%"},attrs:{color:"info"},on:{click:e.close}},[e._v("取消")]),e._v(" "),s("v-spacer"),e._v(" "),s("v-btn",{staticClass:"bthStyle",staticStyle:{"margin-right":"6%"},attrs:{color:"info"},on:{click:e.save}},[e._v("保存")])],1)],1)],1)],1),e._v(" "),s("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.desserts},scopedSlots:e._u([{key:"items",fn:function(t){return[s("td",[e._v(e._s(t.item.roleId))]),e._v(" "),s("td",[e._v(e._s(t.item.menuId))]),e._v(" "),s("td",[s("v-tooltip",{staticStyle:{"margin-left":"-20px"},attrs:{right:"",color:"red"}},[s("v-btn",{attrs:{slot:"activator",flat:"",icon:"delete"},slot:"activator"},[s("v-icon",{staticStyle:{color:"red"},attrs:{small:""},on:{click:function(s){e.deleteItem(t.item)}}},[e._v("delete")])],1),e._v(" "),s("span",[e._v("删除")])],1)],1)]}}])})],1)},staticRenderFns:[]};var x={props:["title"],data:function(){return{disabled:"false",dialog:!1,headers:[{text:"用户ID",sortable:!1},{text:"角色ID",sortable:!1},{text:"Action",sortable:!1}],userRf:[{key:"",value:""}],roleRf:[{key:"",value:""}],desserts:[],sourceData:[],keySet:[{key:"true",dataIndex:"userId"}],editedIndex:-1,title:"",editedItem:{userId:"",roleId:""},defaultItem:{userId:"",roleId:""},backValue:{}}},computed:{formTitle:function(){return-1===this.editedIndex?"新增用户角色关系":"修改用户角色关系"}},watch:{dialog:function(e){e||this.close()}},created:function(){this.initialize(),this.initParentRef()},methods:{initialize:function(){var e=this,t=sessionStorage.getItem("userId");sessionStorage.getItem("userLevel");Object(n.n)(t).then(function(t){e.desserts=t.data.data.userRoleInfo,e.sourceData=e.copy(e.desserts,e.sourceData)})},addClick:function(){this.disabled="false"},initParentRef:function(){var e={},t=this;e.tableName="OM_USER",e.columnCode="USER_ID",e.columnDesc="USER_NAME",Object(r.a)(e,function(e){t.userRf=e});var s={tableName:"OM_ROLE",columnCode:"ROLE_ID",columnDesc:"ROLE_NAME"};Object(r.a)(s,function(e){t.roleRf=e})},editItem:function(e){this.editedIndex=this.desserts.indexOf(e),this.editedItem=o()({},e),this.dialog=!0,this.disabled="true"},deleteItem:function(e){var t=this.desserts.indexOf(e);confirm("Are you sure you want to delete this item?")&&this.desserts.splice(t,1)},close:function(){var e=this;this.dialog=!1,setTimeout(function(){e.editedItem=o()({},e.defaultItem),e.editedIndex=-1},300)},save:function(){this.editedIndex>-1?o()(this.desserts[this.editedIndex],this.editedItem):this.desserts.push(this.editedItem),this.backValue.data=Object(d.a)(this.keySet,this.desserts,this.sourceData),this.backValue.userName=sessionStorage.getItem("userId"),this.backValue.tableName="OM_USER_ROLE",this.backValue.keySet="USER_ID",Object(n.s)(this.backValue).then(function(e){200===e.status&&c.a.success("提交成功！")}),this.close()},copy:function(e,t){var s=t||{};for(var a in e)"object"===i()(e[a])&&null!==e[a]?(s[a]=e[a].constructor===Array?[]:{},this.copy(e[a],s[a])):s[a]=e[a];return s},saveClick:function(){this.backValue.data=Object(d.a)(this.keySet,this.desserts,this.sourceData),this.backValue.userName=sessionStorage.getItem("userId"),this.backValue.tableName="OM_USER_ROLE",this.backValue.keySet="USER_ID",Object(n.s)(this.backValue).then(function(e){200===e.status&&c.a.success("提交成功！")})}}},p={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"elevation-4"},[s("v-toolbar",{attrs:{color:"primary lighten-2",dark:""}},[s("v-toolbar-title",[e._v("用户角色授权")]),e._v(" "),s("v-spacer"),e._v(" "),s("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[s("v-btn",{attrs:{slot:"activator",flat:"",color:"primary lighten-2"},on:{click:e.addClick},slot:"activator"},[s("td",{staticStyle:{color:"white","margin-left":"100px"}},[e._v("添加")])]),e._v(" "),s("v-card",[s("v-card-title",[s("span",{staticStyle:{color:"#00b0ff","font-size":"x-large","margin-left":"5%"}},[e._v(e._s(e.formTitle))])]),e._v(" "),s("v-card-text",{staticStyle:{"margin-top":"-10%"}},[s("v-container",{attrs:{"grid-list-md":""}},[s("v-layout",{attrs:{wrap:""}},["false"==e.disabled?s("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[s("v-select",{attrs:{label:"用户",items:e.userRf,"item-text":"value","item-value":"key"},model:{value:e.editedItem.userId,callback:function(t){e.$set(e.editedItem,"userId",t)},expression:"editedItem.userId"}})],1):e._e(),e._v(" "),"true"==e.disabled?s("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[s("v-select",{attrs:{label:"用户",items:e.userRf,"item-text":"value","item-value":"key",disabled:""},model:{value:e.editedItem.userId,callback:function(t){e.$set(e.editedItem,"userId",t)},expression:"editedItem.userId"}})],1):e._e(),e._v(" "),s("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[s("v-select",{attrs:{label:"角色",items:e.roleRf,"item-text":"value","item-value":"key"},model:{value:e.editedItem.roleId,callback:function(t){e.$set(e.editedItem,"roleId",t)},expression:"editedItem.roleId"}})],1)],1)],1)],1),e._v(" "),s("v-card-actions",{staticStyle:{"margin-top":"-7%"}},[s("v-btn",{staticClass:"bthStyle",staticStyle:{"margin-left":"6%"},attrs:{color:"info"},on:{click:e.close}},[e._v("取消")]),e._v(" "),s("v-spacer"),e._v(" "),s("v-btn",{staticClass:"bthStyle",staticStyle:{"margin-right":"6%"},attrs:{color:"info"},on:{click:e.save}},[e._v("保存")])],1)],1)],1)],1),e._v(" "),s("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.desserts},scopedSlots:e._u([{key:"items",fn:function(t){return[s("td",[e._v(e._s(t.item.userId))]),e._v(" "),s("td",[e._v(e._s(t.item.roleId))]),e._v(" "),s("td",[s("v-tooltip",{staticStyle:{"margin-left":"-20px"},attrs:{bottom:"",color:"blue"}},[s("v-btn",{attrs:{slot:"activator",flat:"",icon:"edit"},slot:"activator"},[s("v-icon",{staticClass:"mr-2",staticStyle:{color:"#0d47a1"},attrs:{small:""},on:{click:function(s){e.editItem(t.item)}}},[e._v("edit")])],1),e._v(" "),s("span",[e._v("修改")])],1),e._v(" "),s("v-tooltip",{staticStyle:{"margin-left":"-20px"},attrs:{bottom:"",color:"red"}},[s("v-btn",{attrs:{slot:"activator",flat:"",icon:"delete"},slot:"activator"},[s("v-icon",{staticStyle:{color:"red"},attrs:{small:""},on:{click:function(s){e.deleteItem(t.item)}}},[e._v("delete")])],1),e._v(" "),s("span",[e._v("删除")])],1)],1)]}}])})],1)},staticRenderFns:[]};var k={components:{MenuTables:s("VU/8")(u,m,!1,function(e){s("JHVd")},"data-v-0a26d1bb",null).exports,RoleTables:s("VU/8")(v,f,!1,function(e){s("mFZF")},"data-v-cd1f4d00",null).exports,UserTables:s("VU/8")(I,h,!1,function(e){s("7hCr")},"data-v-16fed32c",null).exports,RoleMenu:s("VU/8")(b,_,!1,function(e){s("U6mm")},"data-v-5b9401ea",null).exports,UserRole:s("VU/8")(x,p,!1,function(e){s("qxih")},"data-v-16041e32",null).exports},data:function(){return{action:"menu",items:[{title:"菜单管理",name:"menu",class:"",icon:"menu",color:"blue"},{title:"角色管理",name:"role",class:"",icon:"event",color:"blue"},{title:"角色菜单授权",name:"roleMenu",class:"",icon:"widgets",color:"blue"},{title:"用户管理",name:"user",class:"",icon:"person",color:"blue"},{title:"用户角色管理",name:"userRole",class:"",icon:"widgets",color:"blue"}],window:0,windowItem:"windowItem",windowTitle:"windowTitle"}},methods:{actionTag:function(e){for(var t in this.action=e.name,e.class="selected",this.items)this.items[t].name!=e.name&&(this.items[t].class="")},clickItem:function(e){var t=this.userManagement;for(var s in t)0!=s&&(t[s].index==e?t[s].classSpan="spanItemSelected":t[s].classSpan="spanItem")}}},y={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"pt-5 pl-4"},[s("v-layout",[s("v-flex",{staticClass:"pl-4",attrs:{md3:"",lg3:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-card",{staticClass:"pt-4 elevation-4 radiusDc"},[s("v-card-media",{attrs:{src:"/static/avatar/sys1.jpg"}})],1)],1),e._v(" "),s("v-flex",{staticClass:"mt-2 pb-4",attrs:{xs12:""}},[s("v-card",{staticClass:"elevation-4 radiusDc",staticStyle:{height:"200%"}},[s("v-list",e._l(e.items,function(t){return s("v-list-tile",{key:t.title,class:t.class,on:{click:function(s){e.actionTag(t)}}},[s("v-list-tile-action",[s("v-icon",{attrs:{color:t.color}},[e._v(e._s(t.icon))])],1),e._v(" "),s("v-list-tile-content",[s("v-list-tile-title",{staticStyle:{"font-size":"medium"}},[e._v(e._s(t.title))])],1)],1)}))],1)],1)],1),e._v(" "),s("v-flex",{staticClass:"pl-4 pb-4 pr-1",attrs:{md10:"",lg10:""}},["menu"==e.action?s("menu-tables"):e._e(),e._v(" "),"role"==e.action?s("role-tables"):e._e(),e._v(" "),"user"==e.action?s("user-tables"):e._e(),e._v(" "),"roleMenu"==e.action?s("role-menu"):e._e(),e._v(" "),"userRole"==e.action?s("user-role"):e._e()],1)],1)],1)},staticRenderFns:[]};var g=s("VU/8")(k,y,!1,function(e){s("cchx")},"data-v-631d1af4",null);t.default=g.exports},"7hCr":function(e,t){},JHVd:function(e,t){},U6mm:function(e,t){},cchx:function(e,t){},mFZF:function(e,t){},qxih:function(e,t){}});
//# sourceMappingURL=8.01599b2b7ca4fd94e6da.js.map