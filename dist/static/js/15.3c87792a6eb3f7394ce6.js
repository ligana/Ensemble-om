webpackJsonp([15],{"8skK":function(t,e){},F77N:function(t,e){},cpJo:function(t,e){},qFy4:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("pFYg"),l=a.n(s),i=a("woOf"),o=a.n(i),c=a("ZMG9"),d=(a("KRY9"),a("jiRv")),n=a("TagB"),r=a("2Kxe"),m=a.n(r),v={props:["title"],data:function(){return{dialog:!1,disabled:"false",tab:[],valueMethodRf:[{key:"RF",value:"数据来源他表"},{key:"VL",value:"固定备选数据"},{key:"FD",value:"手动输入"},{key:"YN",value:"YN"}],columnTypeRf:[{key:"select",value:"下拉选择"},{key:"input",value:"手动输入"},{key:"switch",value:"开关"},{key:"data",value:"日期控件"},{key:"tree",value:"树形结构"}],headers:[{text:"字段ID",sortable:!1},{text:"字段名称",sortable:!1},{text:"字段属性",sortable:!1},{text:"数据模型",sortable:!1},{text:"数据来源表",sortable:!1},{text:"数据参数",sortable:!1},{text:"Action",sortable:!1}],desserts:[],sourceData:[],keySet:[{key:"true",dataIndex:"tableName"}],editedIndex:-1,title:"",editedItem:{columnId:"",columnDesc:"",columnType:"",valueMethod:"",valueScore:"",valueScoreColumn:""},defaultItem:{columnId:"",columnDesc:"",columnType:"",valueMethod:"",valueScore:"",valueScoreColumn:""},backValue:{}}},computed:{formTitle:function(){return-1===this.editedIndex?"新增元数据":"修改元数据"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.initialize(),this.initRf()},methods:{initRf:function(){var t=this;Object(c.o)("OM_TABLE_LIST").then(function(e){for(var a=0;a<e.data.data.columnInfo.length;a++){var s={};s.key=e.data.data.columnInfo[a].tableName,s.value=e.data.data.columnInfo[a].tableDesc,t.tab.push(s)}})},initialize:function(){var t=m.a;for(var e in t){var a={};a.columnId=e,a.columnDesc=t[e].columnDesc,a.columnType=t[e].columnType,a.valueMethod=t[e].valueMethod,a.valueScore=void 0===t[e].valueScore?"":t[e].valueScore.tableName;var s=" ";if("RF"===t[e].valueMethod&&void 0!==t[e].valueScore&&(s=t[e].valueScore.columnCode,s+=t[e].valueScore.columnDesc),"VL"==t[e].valueMethod&&void 0!==t[e].valueScore){for(var l=0;l<t[e].valueScore.length;l++)s=s+t[e].valueScore[l].key+"-"+t[e].valueScore[l].value+",";s=s.substr(0,s.length-1)}a.valueScoreColumn=s,this.desserts.push(a)}},addClick:function(){this.disabled="false"},editItem:function(t){this.editedIndex=this.desserts.indexOf(t),this.editedItem=o()({},t),this.dialog=!0,this.disabled="true"},deleteItem:function(t){var e=this.desserts.indexOf(t);confirm("Are you sure you want to delete this item?")&&this.desserts.splice(e,1)},close:function(){var t=this;this.dialog=!1,setTimeout(function(){t.editedItem=o()({},t.defaultItem),t.editedIndex=-1},300)},save:function(){this.editedIndex>-1?o()(this.desserts[this.editedIndex],this.editedItem):this.desserts.push(this.editedItem),n.a.success("提交成功！"),this.close()},copy:function(t,e){var a=e||{};for(var s in t)"object"===l()(t[s])&&null!==t[s]?(a[s]=t[s].constructor===Array?[]:{},this.copy(t[s],a[s])):a[s]=t[s];return a}}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"elevation-4"},[a("v-toolbar",{attrs:{color:"primary lighten-2",dark:""}},[a("v-toolbar-title",[t._v("元数据维护")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-btn",{attrs:{slot:"activator",flat:"",color:"primary lighten-2"},on:{click:t.addClick},slot:"activator"},[a("td",{staticStyle:{color:"white","margin-left":"100px"}},[t._v("添加")])]),t._v(" "),a("v-card",[a("v-card-title",[a("span",{staticStyle:{color:"#00b0ff","font-size":"x-large","margin-left":"5%"}},[t._v(t._s(t.formTitle))])]),t._v(" "),a("v-card-text",{staticStyle:{"margin-top":"-10%"}},[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},["true"==t.disabled?a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"字段ID",disabled:""},model:{value:t.editedItem.columnId,callback:function(e){t.$set(t.editedItem,"columnId",e)},expression:"editedItem.columnId"}})],1):t._e(),t._v(" "),"false"==t.disabled?a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"字段ID"},model:{value:t.editedItem.columnId,callback:function(e){t.$set(t.editedItem,"columnId",e)},expression:"editedItem.columnId"}})],1):t._e(),t._v(" "),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"字段名称"},model:{value:t.editedItem.columnDesc,callback:function(e){t.$set(t.editedItem,"columnDesc",e)},expression:"editedItem.columnDesc"}})],1),t._v(" "),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-select",{attrs:{label:"字段属性",items:t.columnTypeRf,"item-text":"value","item-value":"key"},model:{value:t.editedItem.columnType,callback:function(e){t.$set(t.editedItem,"columnType",e)},expression:"editedItem.columnType"}})],1),t._v(" "),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-select",{attrs:{label:"数据模型",items:t.valueMethodRf,"item-text":"value","item-value":"key"},model:{value:t.editedItem.valueMethod,callback:function(e){t.$set(t.editedItem,"valueMethod",e)},expression:"editedItem.valueMethod"}})],1),t._v(" "),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-select",{attrs:{label:"数据来源表",items:t.tab,"item-text":"value","item-value":"key"},model:{value:t.editedItem.valueScore,callback:function(e){t.$set(t.editedItem,"valueScore",e)},expression:"editedItem.valueScore"}})],1),t._v(" "),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"数据参数"},model:{value:t.editedItem.valueScoreColumn,callback:function(e){t.$set(t.editedItem,"valueScoreColumn",e)},expression:"editedItem.valueScoreColumn"}})],1)],1)],1)],1),t._v(" "),a("v-card-actions",{staticStyle:{"margin-top":"-7%"}},[a("v-btn",{staticClass:"bthStyle",staticStyle:{"margin-left":"6%"},attrs:{color:"info"},on:{click:t.close}},[t._v("取消")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{staticClass:"bthStyle",staticStyle:{"margin-right":"6%"},attrs:{color:"info"},on:{click:t.save}},[t._v("保存")])],1)],1)],1)],1),t._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.desserts},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.columnId))]),t._v(" "),a("td",[t._v(t._s(e.item.columnDesc))]),t._v(" "),a("td",[t._v(t._s(e.item.columnType))]),t._v(" "),a("td",[t._v(t._s(e.item.valueMethod))]),t._v(" "),a("td",[t._v(t._s(e.item.valueScore))]),t._v(" "),a("td",[t._v(t._s(e.item.valueScoreColumn))]),t._v(" "),a("td",[a("v-tooltip",{staticStyle:{"margin-left":"-20px"},attrs:{bottom:"",color:"blue"}},[a("v-btn",{attrs:{slot:"activator",flat:"",icon:"edit"},slot:"activator"},[a("v-icon",{staticClass:"mr-2",staticStyle:{color:"#0d47a1"},attrs:{small:""},on:{click:function(a){t.editItem(e.item)}}},[t._v("edit")])],1),t._v(" "),a("span",[t._v("修改")])],1),t._v(" "),a("v-tooltip",{staticStyle:{"margin-left":"-20px"},attrs:{bottom:"",color:"red"}},[a("v-btn",{attrs:{slot:"activator",flat:"",icon:"delete"},slot:"activator"},[a("v-icon",{staticStyle:{color:"red"},attrs:{small:""},on:{click:function(a){t.deleteItem(e.item)}}},[t._v("delete")])],1),t._v(" "),a("span",[t._v("删除")])],1)],1)]}}])})],1)},staticRenderFns:[]};var f={props:["title"],data:function(){return{dialog:!1,disabled:"false",headers:[{text:"交易ID",sortable:!1},{text:"交易名称",sortable:!1},{text:"所属系统",sortable:!1},{text:"所属模块",sortable:!1},{text:"参数类型",sortable:!1},{text:"检索条件",sortable:!1},{text:"Action",sortable:!1}],desserts:[],sourceData:[],keySet:[{key:"true",dataIndex:"tableName"}],editedIndex:-1,title:"",editedItem:{tableName:"",tableDesc:"",system:"",modelId:"",parameter:"",searchColumn:""},defaultItem:{tableName:"",tableDesc:"",system:"",modelId:"",parameter:"",searchColumn:""},backValue:{}}},computed:{formTitle:function(){return-1===this.editedIndex?"新增交易模块信息":"修改交易模块信息"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.initialize()},methods:{initialize:function(){var t=this;Object(c.o)("OM_TABLE_LIST").then(function(e){t.desserts=e.data.data.columnInfo,t.sourceData=t.copy(t.desserts,t.sourceData)})},addClick:function(){this.disabled="false"},editItem:function(t){this.editedIndex=this.desserts.indexOf(t),this.editedItem=o()({},t),this.dialog=!0,this.disabled="true"},deleteItem:function(t){var e=this.desserts.indexOf(t);confirm("Are you sure you want to delete this item?")&&this.desserts.splice(e,1)},close:function(){var t=this;this.dialog=!1,setTimeout(function(){t.editedItem=o()({},t.defaultItem),t.editedIndex=-1},300)},save:function(){this.editedIndex>-1?o()(this.desserts[this.editedIndex],this.editedItem):this.desserts.push(this.editedItem),this.backValue.data=Object(d.a)(this.keySet,this.desserts,this.sourceData),this.backValue.userName=sessionStorage.getItem("userId"),this.backValue.tableName="OM_TABLE_LIST",this.backValue.keySet="TABLE_NAME",Object(c.s)(this.backValue).then(function(t){200===t.status&&n.a.success("提交成功！")}),this.close()},copy:function(t,e){var a=e||{};for(var s in t)"object"===l()(t[s])&&null!==t[s]?(a[s]=t[s].constructor===Array?[]:{},this.copy(t[s],a[s])):a[s]=t[s];return a},saveClick:function(){this.backValue.data=Object(d.a)(this.keySet,this.desserts,this.sourceData),this.backValue.userName=sessionStorage.getItem("userId"),this.backValue.tableName="OM_TABLE_LIST",this.backValue.keySet="TABLE_NAME",Object(c.s)(this.backValue).then(function(t){200===t.status&&n.a.success("提交成功！")})}}},b={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"elevation-4"},[a("v-toolbar",{attrs:{color:"primary lighten-2",dark:""}},[a("v-toolbar-title",[t._v("交易模块维护")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-btn",{attrs:{slot:"activator",flat:"",color:"primary lighten-2"},on:{click:t.addClick},slot:"activator"},[a("td",{staticStyle:{color:"white","margin-left":"100px"}},[t._v("添加")])]),t._v(" "),a("v-card",[a("v-card-title",[a("span",{staticStyle:{color:"#00b0ff","font-size":"x-large","margin-left":"5%"}},[t._v(t._s(t.formTitle))])]),t._v(" "),a("v-card-text",{staticStyle:{"margin-top":"-10%"}},[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},["true"==t.disabled?a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"交易ID",disabled:""},model:{value:t.editedItem.tableName,callback:function(e){t.$set(t.editedItem,"tableName",e)},expression:"editedItem.tableName"}})],1):t._e(),t._v(" "),"false"==t.disabled?a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"交易ID"},model:{value:t.editedItem.tableName,callback:function(e){t.$set(t.editedItem,"tableName",e)},expression:"editedItem.tableName"}})],1):t._e(),t._v(" "),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"交易名称"},model:{value:t.editedItem.tableDesc,callback:function(e){t.$set(t.editedItem,"tableDesc",e)},expression:"editedItem.tableDesc"}})],1),t._v(" "),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"所属系统"},model:{value:t.editedItem.system,callback:function(e){t.$set(t.editedItem,"system",e)},expression:"editedItem.system"}})],1),t._v(" "),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"所属模块"},model:{value:t.editedItem.modelId,callback:function(e){t.$set(t.editedItem,"modelId",e)},expression:"editedItem.modelId"}})],1),t._v(" "),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"参数类型"},model:{value:t.editedItem.parameter,callback:function(e){t.$set(t.editedItem,"parameter",e)},expression:"editedItem.parameter"}})],1),t._v(" "),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"检索条件"},model:{value:t.editedItem.searchColumn,callback:function(e){t.$set(t.editedItem,"searchColumn",e)},expression:"editedItem.searchColumn"}})],1)],1)],1)],1),t._v(" "),a("v-card-actions",{staticStyle:{"margin-top":"-7%"}},[a("v-btn",{staticClass:"bthStyle",staticStyle:{"margin-left":"6%"},attrs:{color:"info"},on:{click:t.close}},[t._v("取消")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{staticClass:"bthStyle",staticStyle:{"margin-right":"6%"},attrs:{color:"info"},on:{click:t.save}},[t._v("保存")])],1)],1)],1)],1),t._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.desserts},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.tableName))]),t._v(" "),a("td",[t._v(t._s(e.item.tableDesc))]),t._v(" "),a("td",[t._v(t._s(e.item.system))]),t._v(" "),a("td",[t._v(t._s(e.item.modelId))]),t._v(" "),a("td",[t._v(t._s(e.item.parameter))]),t._v(" "),a("td",[t._v(t._s(e.item.searchColumn))]),t._v(" "),a("td",[a("v-tooltip",{staticStyle:{"margin-left":"-20px"},attrs:{bottom:"",color:"blue"}},[a("v-btn",{attrs:{slot:"activator",flat:"",icon:"edit"},slot:"activator"},[a("v-icon",{staticClass:"mr-2",staticStyle:{color:"#0d47a1"},attrs:{small:""},on:{click:function(a){t.editItem(e.item)}}},[t._v("edit")])],1),t._v(" "),a("span",[t._v("修改")])],1),t._v(" "),a("v-tooltip",{staticStyle:{"margin-left":"-20px"},attrs:{bottom:"",color:"red"}},[a("v-btn",{attrs:{slot:"activator",flat:"",icon:"delete"},slot:"activator"},[a("v-icon",{staticStyle:{color:"red"},attrs:{small:""},on:{click:function(a){t.deleteItem(e.item)}}},[t._v("delete")])],1),t._v(" "),a("span",[t._v("删除")])],1)],1)]}}])})],1)},staticRenderFns:[]};var h={components:{tableColumn:a("VU/8")(v,u,!1,function(t){a("cpJo")},"data-v-18b4fa59",null).exports,tableList:a("VU/8")(f,b,!1,function(t){a("F77N")},"data-v-ffe05458",null).exports},data:function(){return{title:"",titleNum:"",action:"model",items:[{title:"交易模块维护",name:"model",class:"",icon:"settings",color:"blue"},{title:"元数据维护",name:"json",class:"",icon:"event",color:"blue"}],window:0,windowItem:"windowItem",windowTitle:"windowTitle"}},created:function(){this.getParaTable()},methods:{getParaTable:function(){var t=this;Object(c.o)("OM_TABLE_LIST").then(function(e){t.titleNum=e.data.data.columnInfo.length,t.title="交易数量"})},actionTag:function(t){var e=this;if("model"===t.name&&(this.title="交易数量",Object(c.o)("OM_TABLE_LIST").then(function(t){e.titleNum=t.data.data.columnInfo.length})),"json"===t.name){e.title="字段数量";var a=0,s=m.a;for(var l in s)a++;e.titleNum=a+""}for(var i in this.action=t.name,t.class="selected",this.items)this.items[i].name!=t.name&&(this.items[i].class="")},clickItem:function(t){var e=this.userManagement;for(var a in e)0!=a&&(e[a].index==t?e[a].classSpan="spanItemSelected":e[a].classSpan="spanItem")}}},_={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pt-5 pl-4"},[a("v-layout",[a("v-flex",{staticClass:"pl-4",attrs:{md3:"",lg3:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-card",{staticClass:"radiusDc"},[a("v-card-media",{staticClass:"elevation-4",attrs:{src:"/static/bg/18.jpg",height:"200px"}},[a("v-card-title",{staticClass:"pb-0"},[a("v-layout",[a("td",[a("h3",{staticStyle:{color:"white","margin-top":"-80px"}},[t._v(t._s(t.title))])])]),t._v(" "),a("v-layout",[a("td",[a("h1",{staticStyle:{color:"white","margin-top":"55px","margin-left":"-50px"}},[t._v(t._s(t.titleNum))])])])],1)],1)],1)],1),t._v(" "),a("v-flex",{staticClass:"mt-3 pb-4",attrs:{xs12:""}},[a("v-card",{staticClass:"elevation-4 radiusDc",staticStyle:{height:"200%"}},[a("v-list",t._l(t.items,function(e){return a("v-list-tile",{key:e.title,class:e.class,on:{click:function(a){t.actionTag(e)}}},[a("v-list-tile-action",[a("v-icon",{attrs:{color:e.color}},[t._v(t._s(e.icon))])],1),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",{staticStyle:{"font-size":"medium"}},[t._v(t._s(e.title))])],1)],1)}))],1)],1)],1),t._v(" "),a("v-flex",{staticClass:"pl-4 pb-4 pr-1",attrs:{md10:"",lg10:""}},["model"==t.action?a("table-list"):t._e(),t._v(" "),"json"==t.action?a("table-column"):t._e()],1)],1)],1)},staticRenderFns:[]};var I=a("VU/8")(h,_,!1,function(t){a("8skK")},"data-v-728583ba",null);e.default=I.exports}});
//# sourceMappingURL=15.3c87792a6eb3f7394ce6.js.map