webpackJsonp([23],{Onpp:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("Pi6f"),r=e("vMJZ"),i=e("3atE"),o=e("ZoQJ"),n=e("etTB"),l={components:{VuePerfectScrollbar:e.n(n).a,VCircle:i.a},data:function(){return{chats:s.a}},methods:{chatRoute:function(t){return"/chat/messaging/"+t},firstLetter:function(t){return t.charAt(0)},formatChatTime:function(t){return new Date(t).toLocaleDateString()},computeTitle:function(t){var a=1===t.users.length?Object(r.c)(t.users[0]).username:"";return 1===t.users.length?a:t.title},randomAvatarColor:function(t){return 1===t.users.length?"":o.a.randomElement(["blue","indigo","success","error","pink"])},chatStatusColor:function(t){return o.a.randomElement(["blue","indigo","success","error","pink"])}}},c={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"chat-history"},[e("v-toolbar",{staticClass:"chat-history-toolbar",attrs:{dense:""}},[e("v-text-field",{attrs:{flat:"",solo:"","full-width":"",clearable:"","prepend-icon":"search",label:"Search"}})],1),t._v(" "),e("vue-perfect-scrollbar",{staticClass:"chat-history--scrollbar"},[e("v-divider"),t._v(" "),e("v-list",{staticClass:"chat-history--list",attrs:{"two-line":""}},[e("v-subheader",[t._v("History")]),t._v(" "),t._l(t.chats,function(a,s){return[e("v-divider",{key:s}),t._v(" "),e("v-list-tile",{key:a.title+s,staticClass:"chat-list",attrs:{avatar:"",to:t.chatRoute(a.uuid)}},[e("v-list-tile-avatar",{attrs:{color:t.randomAvatarColor(a)}},[1===a.users.length?e("img",{attrs:{src:a.user.avatar}}):e("span",{staticClass:"white--text headline"},[t._v(t._s(t.firstLetter(a.title)))])]),t._v(" "),e("v-list-tile-content",[e("v-list-tile-title",[t._v(" "+t._s(t.computeTitle(a)))]),t._v(" "),e("v-list-tile-sub-title",[t._v("Some Latest message")])],1),t._v(" "),e("v-list-tile-action",[e("v-list-tile-action-text",[t._v("\n              "+t._s(t.formatChatTime(a.created_at))+"\n            ")]),t._v(" "),e("v-circle",{attrs:{dot:"",small:"",color:t.chatStatusColor(a)}})],1)],1)]})],2)],1)],1)},staticRenderFns:[]},v={components:{ChatHistory:e("VU/8")(l,c,!1,null,null,null).exports,ChatWindow:e("wGPy").a},data:function(){return{}},computed:{showSidebar:function(){return void 0===this.$route.params.uuid},showWindow:function(){return void 0!==this.$route.params.uuid}}},u={render:function(){var t=this.$createElement,a=this._self._c||t;return a("v-container",{staticClass:"fill-height pa-0 ma-0 messaging fluid",attrs:{id:"messaging"}},[this.$vuetify.breakpoint.smAndDown?[a("v-layout",{attrs:{column:""}},[this.showSidebar?a("v-flex",{staticClass:"white",attrs:{sm12:""}},[a("chat-history")],1):this._e(),this._v(" "),this.showWindow?a("v-flex",{attrs:{sm12:""}},[a("chat-window")],1):this._e()],1)]:[a("v-layout",{attrs:{row:""}},[a("v-flex",{staticClass:"white",attrs:{lg3:""}},[a("chat-history")],1),this._v(" "),a("v-flex",{attrs:{lg9:""}},[a("chat-window")],1)],1)]],2)},staticRenderFns:[]},h=e("VU/8")(v,u,!1,null,null,null);a.default=h.exports},wGPy:function(t,a,e){"use strict";var s=e("woOf"),r=e.n(s),i=e("Pi6f"),o=e("vMJZ"),n=e("etTB"),l={components:{VuePerfectScrollbar:e.n(n).a},props:{uuid:{type:String,default:""},height:{type:String,default:null}},computed:{chat:function(){var t=Object(i.c)(this.$route.params.uuid);return r()({title:"Chat",users:[],messages:[]},t)},computeHeight:function(){return{height:this.height||""}}},methods:{getAvatar:function(t){return Object(o.c)(t).avatar}}},c={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-card",{staticClass:"chat-room"},[e("v-toolbar",{staticClass:"white chat-room--toolbar",attrs:{card:"",dense:"",flat:"",light:""}},[e("v-btn",{attrs:{icon:""}},[e("v-icon",{attrs:{color:"text--secondary"}},[t._v("keyboard_arrow_left")])],1),t._v(" "),t.chat.users?t._l(t.chat.users,function(a,s){return e("v-avatar",{key:s,staticClass:"avatar-stack",attrs:{size:"32"}},[e("img",{attrs:{src:t.getAvatar(a),alt:""}})])}):t._e(),t._v(" "),e("v-spacer"),t._v(" "),e("v-toolbar-title",[e("h4",[t._v("Chat Channel")])]),t._v(" "),e("v-spacer"),t._v(" "),e("v-tooltip",{attrs:{bottom:""}},[e("v-btn",{attrs:{slot:"activator",icon:""},slot:"activator"},[e("v-icon",{attrs:{color:"text--secondary"}},[t._v("add")])],1),t._v(" "),e("span",[t._v("Add user")])],1)],2),t._v(" "),e("vue-perfect-scrollbar",{staticClass:"chat-room--scrollbar grey lighten-5",style:t.computeHeight},[e("v-card-text",{staticClass:"chat-room--list pa-3"},[t._l(t.chat.messages,function(a,s){return[e("div",{key:s,staticClass:"messaging-item layout row my-4",class:[s%2==0?"reverse":""]},[e("v-avatar",{staticClass:"indigo mx-1",attrs:{size:"40"}},[e("img",{attrs:{src:a.user.avatar,alt:""}})]),t._v(" "),e("div",{staticClass:"messaging--body layout column mx-2"},[e("p",{staticClass:"pa-2",class:[s%2==0?"primary white--text":"white"],attrs:{value:!0}},[t._v("\n              "+t._s(a.text)+"\n            ")]),t._v(" "),e("div",{staticClass:"caption px-2 text--secondary"},[t._v(t._s(new Date(a.created_at).toLocaleString()))])]),t._v(" "),e("v-spacer")],1)]})],2)],1),t._v(" "),e("v-card-actions",[e("v-text-field",{attrs:{"full-width":"",flat:"",clearable:"",solo:"","append-icon":"send",label:"Type some message here"}},[e("v-icon",{attrs:{slot:"append-icon"},slot:"append-icon"},[t._v("send")]),t._v(" "),e("v-icon",{staticClass:"mx-2",attrs:{slot:"append-icon"},slot:"append-icon"},[t._v("photo")]),t._v(" "),e("v-icon",{attrs:{slot:"append-icon"},slot:"append-icon"},[t._v("face")])],1)],1)],1)},staticRenderFns:[]},v=e("VU/8")(l,c,!1,null,null,null);a.a=v.exports}});
//# sourceMappingURL=23.f77d555d53f64c3b0e53.js.map