webpackJsonp([17],{K9XM:function(t,e){},Q5A2:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("pFYg"),r=a.n(o),s=a("ZMG9"),i=a("nQSq"),n=a("QvZr"),l=a("v4iS"),c=a("Ug/8"),d=a("p1Qx"),p=a("etTB"),u=a.n(p),v=a("pvby"),h=a("Exlj"),f=a("Wear"),m=a("oHD5"),_=a("TagB"),g={name:"deposit",components:{accountingPlain:v.a,BranchForm:i.a,EventForm:n.a,VWidget:d.a,AcctForm:h.a,VuePerfectScrollbar:u.a,downAction:f.a,ProdListForm:l.a,PendingForm:c.a},data:function(){return{listLoading:!0,searchValue:"",showCopy:"",depositProd:{prodcode:"",version:""},prodCode:"",prodClass:"",pendFlag:0,activeName:"basic",prodInfo:[{icon:"account_balance",text:"基本信息"},{icon:"filter_vintage",text:"账户信息"},{icon:"work",text:"产品对象"},{icon:"work",text:"利率信息"},{icon:"work",text:"风险信息"},{icon:"work",text:"开户定义"},{icon:"work",text:"存入定义"},{icon:"work",text:"支取定义"},{icon:"work",text:"利率信息"},{icon:"work",text:"核算信息"},{icon:"work",text:"销户定义"},{icon:"work",text:"结息定义"}],files:[{icon:"assignment",iconClass:"blue white--text",value:"",lable:""}],prodData:{},sourceProdData:{},targetData:{}}},mounted:function(){this.queryProdFlow(),""!==this.$route.hash&&null!==this.$route.hash?this.prodClass=this.$route.hash:""!==this.$route.params.prodClassCmp&&null!==this.$route.params.prodClassCmp&&(this.prodClass=this.$route.params.prodClassCmp),""!==this.$route.params.prodType&&null!==this.$route.params.prodType&&this.listenToProdList(this.$route.params)},methods:{queryProdFlow:function(){var t=this;Object(s.d)().then(function(e){for(var a=e.data.data.length,o=0;o<a;o++){if("2"===e.data.data[o].flowManage.status){t.pendFlag=1,_.a.info("存在已提交数据，等待复核!");break}if("3"===e.data.data[o].flowManage.status){t.pendFlag=1,_.a.info("存在已复核数据，等待发布！");break}}})},queryProdInfo:function(){console.log("start query prod info")},saveProd:function(){var t=this;this.$refs.callback[0].callbackprod(),this.targetData=Object(m.a)(this.prodData,this.sourceProdData,this.showCopy),"Y"===this.showCopy?this.targetData.optionType="I":this.targetData.optionType="U",this.targetData.option="save",this.targetData.userName=sessionStorage.getItem("userId"),Object(s.q)(this.targetData).then(function(e){200===e.status&&(t.pendFlag=1,_.a.success("提交成功！"))})},tempProd:function(){this.$refs.callback[0].callbackprod(),this.targetData=Object(m.a)(this.prodData,this.sourceProdData,this.showCopy),"Y"===this.showCopy?this.targetData.optionType="I":this.targetData.optionType="U",this.targetData.option="temp",this.targetData.userName=sessionStorage.getItem("userId"),Object(s.q)(this.targetData).then(function(t){200===t.status&&_.a.success("暂存成功！")})},listenToProdList:function(t){var e=this;this.prodCode=t.prodType,Object(s.l)(this.prodCode).then(function(t){e.prodData=t.data.data,e.sourceProdData=e.copy(e.prodData,e.sourceProdData)})},copy:function(t,e){var a=e||{};for(var o in t)"object"===r()(t[o])&&null!==t[o]?(a[o]=t[o].constructor===Array?[]:{},this.copy(t[o],a[o])):a[o]=t[o];return a},initStage:function(t){this.listValue=t},onSubmit:function(){this.$message("submit!")},onCancel:function(){this.$message({message:"cancel!",type:"warning"})},getNewProdData:function(t){console.log(t),this.prodData.prodType.prodType=t.eventForm.prodType,this.prodData.prodType.prodDesc=t.eventForm.prodDesc,this.prodData.prodType.prodRange=t.eventForm.prodRange,this.prodData.prodType.prodClass=t.eventForm.prodClass,this.prodData.prodType.prodGroup=t.eventForm.prodGroup,this.prodData.prodType.status=t.eventForm.status,this.prodData.prodDefines.ACCT_STRUCT_FLAG.attrValue=t.eventForm.acctStructFlag,this.prodData.prodDefines.ACCT_REAL_FLAG.attrValue=t.eventForm.acctRealFlag,this.prodData.prodDefines.ACCT_INT_FLAG.attrValue=t.eventForm.acctIntFlag,this.prodData.prodDefines.ACCT_BAL_FLAG.attrValue=t.eventForm.acctBalFlag,this.prodData.prodDefines.PROFIT_CENTRE.attrValue=t.eventForm.profitCenter,this.prodData.prodDefines.PROD_START_DATE.attrValue=t.eventForm.prodStartDate,this.prodData.prodDefines.PROD_END_DATE.attrValue=t.eventForm.prodEndDate,this.prodData.prodDefines.ACCT_TYPE.attrValue=t.eventForm.acctType,this.prodData.mbEventInfos["CLOSE_"+t.prodType.prodType].mbEventAttrs.CHECK_AGENT.attrValue=t.eventForm.baseprod},listenToCopy:function(t){this.prodCode=t.prodType,this.prodData.prodType.prodType=t.prodType,this.prodData.prodType.prodDesc=t.prodDesc;var e=this.copy(this.prodData,[]);this.prodData=e,t.showCopy?this.showCopy="":this.showCopy="Y"}}},D={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"v-card",attrs:{lg9:"",sm9:""}},[a("v-toolbar",{attrs:{color:"primary lighten-1",dark:"",tabs:""}},[a("v-toolbar-side-icon"),t._v(" "),a("v-toolbar-title",{staticClass:"white--text"},[t._v("个人存款产品")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""}},[a("v-icon",[t._v("search")])],1),t._v(" "),a("v-btn",{attrs:{icon:""}},[a("v-icon",[t._v("apps")])],1),t._v(" "),a("v-btn",{attrs:{icon:""}},[a("v-icon",[t._v("refresh")])],1),t._v(" "),a("v-btn",{attrs:{icon:""}},[a("v-icon",[t._v("more_vert")])],1),t._v(" "),a("v-tabs",{attrs:{slot:"extension",color:"primary lighten-1",grow:"","show-arrows":""},slot:"extension",model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("v-tabs-slider",{attrs:{color:"yellow"}}),t._v(" "),t._l(t.prodInfo,function(e){return a("v-tab",{key:e},[t._v("\n                        "+t._s(e.text)+"\n                        ")])})],2)],1),t._v(" "),a("v-tabs-items",{staticClass:"white elevation-1",model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(12,function(e){return a("v-tab-item",{key:e,attrs:{id:"mobile-tabs-5-"+e}},[1==e?a("event-form",{ref:"callback",refInFor:!0,attrs:{prodData:t.prodData},on:{getNewProdData:t.getNewProdData}}):t._e(),t._v(" "),2==e?a("accounting-plain"):t._e(),t._v(" "),3==e?a("branch-form"):t._e(),t._v(" "),e>3?a("acct-form"):t._e()],1)}))],1),t._v(" "),a("v-flex",{staticClass:"v-card",attrs:{lg3:"",sm3:""}},[a("v-card",[a("v-card-text",[0==t.pendFlag?a("down-action",{on:{listenToCopy:t.listenToCopy,saveProd:t.saveProd,tempProd:t.tempProd}}):t._e(),t._v(" "),1==t.pendFlag?a("pending-form"):t._e()],1)],1),t._v(" "),a("prod-list-form",{attrs:{prodClass:t.prodClass},on:{listenToProdList:t.listenToProdList}})],1)],1)],1)},staticRenderFns:[]};var b=a("VU/8")(g,D,!1,function(t){a("K9XM")},"data-v-d7fa8ea8",null);e.default=b.exports},nQSq:function(t,e,a){"use strict";var o=a("Gu7T"),r=a.n(o),s=a("GXH0"),i={components:{Treeselect:a.n(s).a},data:function(){return{value:["9999","0102"],options:[{id:"9999",label:"总行",isDefaultExpanded:!0,children:[{id:"9996",label:"会计结算部"},{id:"9997",label:"计财部"}]},{id:"0100",label:"分行",isDefaultExpanded:!0,children:[{label:"支行1",id:"0101",value:!1},{label:"支行2",id:"0102",value:!0},{label:"支行3",id:"0103",value:!1}]},{id:"0200",label:"分行",isDefaultExpanded:!0,children:[{label:"支行1",id:"0201",value:!1},{label:"支行2",id:"0202",value:!0},{label:"支行3",id:"0203",value:!1}]}],panel:[],items:[{action:"local_offer",title:"总行",code:"9999",active:!1,value:!0,items:[{title:"清算中心",code:"9998",value:!1},{title:"计财部",code:"9997",value:!0},{title:"会计结算部",code:"9996",value:!1}]},{action:"local_offer",title:"分行",code:"0100",value:!0,active:!0,items:[{title:"支行1",code:"0101",value:!1},{title:"支行2",code:"0102",value:!0},{title:"支行3",code:"0103",value:!1}]},{action:"local_offer",title:"分行",code:"0200",value:!0,active:!0,items:[{title:"支行1",code:"0201",value:!1},{title:"支行2",code:"0202",value:!1},{title:"支行3",code:"0203",value:!1}]}]}},methods:{doStop:function(){console.log("doStop")},all:function(){this.panel=[].concat(r()(Array(this.items.length).keys())).map(function(t){return!0})},none:function(){this.panel=[]},onScroll:function(t){this.offsetTop=t.target.scrollTop}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"scroll-y",staticStyle:{"max-height":"800px"},attrs:{"grid-list-md":"",fluid:"",id:"scroll-target"}},[a("v-layout",{directives:[{name:"scroll",rawName:"v-scroll:#scroll-target",value:t.onScroll,expression:"onScroll",arg:"#scroll-target"}],attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-card",[a("div",{staticClass:"d-flex justify-between align-center mb-3"},[a("v-btn",{on:{click:t.all}},[t._v("all")]),t._v(" "),a("v-btn",{on:{click:t.none}},[t._v("none")])],1),t._v(" "),a("v-expansion-panel",{attrs:{expand:"",focusable:""},model:{value:t.panel,callback:function(e){t.panel=e},expression:"panel"}},t._l(t.items,function(e){return a("v-expansion-panel-content",{key:e},[a("div",{staticClass:"subheading font-weight-medium",attrs:{slot:"header"},slot:"header"},[t._v(t._s(e.title)+"-"+t._s(e.code))]),t._v(" "),a("v-list",t._l(e.items,function(e){return a("v-list-tile",{key:e.title,on:{click:function(e){return e.stopPropagation(),t.doStop(e)}}},[a("v-list-tile-action",[a("v-checkbox",{attrs:{color:"success"},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"subItem.value"}})],1),t._v(" "),a("v-list-tile-content",{on:{click:function(t){e.value=!e.value}}},[a("v-list-tile-title",[t._v(t._s(e.title)+"-"+t._s(e.code))])],1)],1)}))],1)}))],1)],1),t._v(" "),a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-card",[a("treeselect",{attrs:{multiple:!0,options:t.options,"always-open":!0,limit:5,"sort-value-by":t.INDEX},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),t._v(" "),a("pre",{staticClass:"result"},[t._v(t._s(t.value))])],1)],1)],1)],1)},staticRenderFns:[]},l=a("VU/8")(i,n,!1,null,null,null);e.a=l.exports}});
//# sourceMappingURL=17.9debabe405c6c90015d9.js.map